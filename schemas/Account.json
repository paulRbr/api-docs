{
  "additionalProperties": false,
  "type": "object",
  "required": ["account_id", "created_at", "effective_at"],
  "properties": {
    "account_id": {
      "type": "integer",
      "description": "This is generated by Canopy. A unique ID for the account.",
      "example": 9
    },
    "created_at": {
      "type": "string",
      "description": "The `Date-Time` which the account was created in the API.",
      "format": "date-time",
      "example": "2017-06-20T09:12:14Z"
    },
    "effective_at": {
      "type": "string",
      "description": "The `Date-Time` that this account became/becomes active.",
      "format": "date-time",
      "example": "2018-03-20T09:12:28Z"
    },
    "account_overview": {
      "type": "object",
      "required": ["account_status"],
      "properties": {
        "account_status": {
          "type": "string",
          "description": "The Status of the Account. Active upon account creation.",
          "example": "suspended"
        },
        "account_status_subtype": {
          "type": "string",
          "description": "The subtype of the Status of the Account. Null upon account creation.",
          "example": "suspended-bankruptcy"
        }
      }
    },
    "account_product": {
      "$ref": "./AccountProduct.json",
      "description": "The product associated with the account"
    },
    "external_fields": {
      "type": "array",
      "maxItems": 10,
      "description": "An Array of External Fields. These should be used to connect accounts created in Canopy to Users in your system and any connected external systems.",
      "items": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "key: i.e. Name of the External Party",
            "example": "Umbrella Corporation"
          },
          "value": {
            "type": "string",
            "description": "value: i.e. External Account ID",
            "example": "22445702-a389-431f-927d-07b8d0750787"
          }
        }
      }
    },
    "min_pay_due_cents": {
      "type": "object",
      "required": ["min_pay_cents", "min_pay_due_at"],
      "properties": {
        "min_pay_cents": {
          "type": "integer",
          "description": "Total amount due for the billing cycle, summing cycle principal, interest, deferred interest, and fees outstanding.",
          "example": 160000
        },
        "min_pay_due_at": {
          "type": "string",
          "format": "date-time",
          "description": "The `Date-Time` the payment for this billing cycle is due.",
          "example": "2019-10-18T23:04:48.321Z"
        }
      }
    },
    "additional_min_pay_details": {
      "type": "object",
      "required": [
        "min_pay_charges_principal_cents",
        "min_pay_interest_cents",
        "min_pay_deferred_cents",
        "min_pay_fees_cents",
        "previous_min_pay_cents"
      ],
      "properties": {
        "min_pay_charges_principal_cents": {
          "type": "integer",
          "description": "Total principal due for the billing cycle.",
          "example": 100000
        },
        "min_pay_interest_cents": {
          "type": "integer",
          "description": "Total interest due for the billing cycle.",
          "example": 30000
        },
        "min_pay_deferred_cents": {
          "type": "integer",
          "description": "Total deferred interest due for the billing cycle.",
          "example": 10000
        },
        "min_pay_fees_cents": {
          "type": "integer",
          "description": "Total fees due for the billing cycle.",
          "example": 20000
        },
        "previous_min_pay_cents": {
          "type": "integer",
          "description": "Previous amounts due, including fees. This is a subset of min_pay_cents.",
          "example": 400000
        }
      }
    },
    "summary": {
      "type": "object",
      "required": [
        "total_balance_cents",
        "principal_cents",
        "interest_balance_cents",
        "deferred_interest_balance_cents",
        "total_paid_to_date_cents",
        "total_interest_paid_to_date_cents",
        "credit_limit_cents",
        "interest_rate_percent",
        "available_credit_cents"
      ],
      "properties": {
        "total_balance_cents": {
          "type": "number",
          "description": "The total balance (in cents) associated with the account.",
          "example": 300000
        },
        "principal_cents": {
          "type": "number",
          "description": "The total balance (in cents) associated with the account.",
          "example": 200000
        },
        "interest_balance_cents": {
          "type": "number",
          "description": "The total interest balance (in cents) associated with the account.",
          "example": 60000
        },
        "deferred_interest_balance_cents": {
          "type": "number",
          "description": "The total deferred interest balance (in cents) associated with the account.",
          "example": 40000
        },
        "total_paid_to_date_cents": {
          "type": "number",
          "description": "The total sum of payments made to date (in cents) associated with the account.",
          "example": 40000
        },
        "total_interest_paid_to_date_cents": {
          "type": "number",
          "description": "The total sum of interest allocations for payments made to date (in cents) associated with the account.",
          "example": 10000
        },
        "credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000
        },
        "max_approved_credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000
        },
        "interest_rate_percent": {
          "type": "number",
          "description": "The percentage interest applied to the account (i.e. 6.2 means 6.2%)",
          "example": 3
        },
        "available_credit_cents": {
          "type": "number",
          "description": "The total available credit balance (in cents) for the account.",
          "example": 100000
        },
        "open_to_buy_cents": {
          "type": "integer",
          "description": "If applicable, the total amount of available funds for continued purchase following a purchase window pattern, where payments made do not replenish amount available for purchase.",
          "example": 5000
        }
      }
    },
    "associated_entities": {
      "type": "object",
      "properties": {
        "merchant_name": {
          "type": "string",
          "description": "A merchant name associated with the account",
          "example": "Acme Corporation"
        },
        "lender_name": {
          "type": "string",
          "description": "A lender name associated with the account",
          "example": "Globex Lending Corp"
        }
      }
    }
  }
}
