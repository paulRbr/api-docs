{
  "type": "object",
  "required": ["account_id"],
  "properties": {
    "account_id": {
      "type": "integer",
      "description": "This is generated by Canopy. A unique ID for the account.",
      "example": 9
    },
    "created_at": {
      "type": "string",
      "description": "The `Date-Time` which the account was created in the API.",
      "format": "date-time",
      "example": "2017-06-20T09:12:14+00:00"
    },
    "effective_at": {
      "type": "string",
      "description": "The `Date-Time` that this account became/becomes active.",
      "format": "date-time",
      "example": "2018-03-20T09:12:28+00:00"
    },
    "account_overview": {
      "type": "object",
      "required": ["account_status"],
      "properties": {
        "account_status": {
          "type": "string",
          "description": "The Status of the Account. Active upon account creation.",
          "example": "suspended",
          "default": "active"
        },
        "account_status_subtype": {
          "type": "string",
          "description": "The subtype of the Status of the Account. Null upon account creation.",
          "example": "suspended-bankruptcy",
          "default": ""
        }
      }
    },
    "account_product": {
      "$ref": "./AccountProduct.json",
      "description": "The product associated with the account."
    },
    "external_fields": {
      "type": "array",
      "maxItems": 1000,
      "description": "An Array of External Fields. These should be used to connect accounts created in Canopy to Users in your system and any connected external systems.",
      "items": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "key: i.e. Name of the External Party",
            "example": "Umbrella Corporation"
          },
          "value": {
            "type": "string",
            "description": "value: i.e. External Account ID",
            "example": "22445702-a389-431f-927d-07b8d0750787"
          }
        }
      }
    },
    "min_pay_due_cents": {
      "type": "object",
      "required": ["statement_min_pay_cents"],
      "properties": {
        "statement_min_pay_cents": {
          "type": "integer",
          "description": "Total amount due for the billing cycle, summing cycle principal, interest, deferred interest, and fees outstanding.",
          "example": 160000,
          "default": 0
        },
        "min_pay_due_at": {
          "type": "string",
          "format": "date-time",
          "description": "The `Date-Time` the payment for this billing cycle is due.",
          "example": "2019-10-18T23:04:48.321+00:00"
        }
      }
    },
    "additional_statement_min_pay_details": {
      "type": "object",
      "required": [
        "statement_min_pay_charges_principal_cents",
        "statement_min_pay_interest_cents",
        "statement_min_pay_deferred_cents",
        "statement_min_pay_am_deferred_interest_cents",
        "statement_min_pay_am_interest_cents",
        "statement_min_pay_fees_cents",
        "previous_statement_min_pay_cents"
      ],
      "properties": {
        "statement_min_pay_charges_principal_cents": {
          "type": "integer",
          "description": "Total principal due for the billing cycle.",
          "example": 100000,
          "default": 0
        },
        "statement_min_pay_interest_cents": {
          "type": "integer",
          "description": "Total interest due for the billing cycle.",
          "example": 30000,
          "default": 0
        },
        "statement_min_pay_am_interest_cents": {
          "type": "integer",
          "description": "The current AM interest balance of the line item. Canopy tracks interest during an amortization period separately from deferred interest accrued during a revolving period.",
          "example": 200,
          "default": 0
        },
        "statement_min_pay_deferred_cents": {
          "type": "integer",
          "description": "Total deferred interest due for the billing cycle.",
          "example": 10000,
          "default": 0
        },
        "statement_min_pay_am_deferred_interest_cents": {
          "type": "integer",
          "description": "The current AM deferred interest balance of the line item. Canopy tracks deferred interest during an amortization period separately from deferred interest accrued during a revolving period.",
          "example": 200,
          "default": 0
        },
        "statement_min_pay_fees_cents": {
          "type": "integer",
          "description": "Total fees due for the billing cycle.",
          "example": 20000,
          "default": 0
        },
        "previous_statement_min_pay_cents": {
          "type": "integer",
          "description": "Previous amounts due, including fees. This is a subset of statement_min_pay_cents.",
          "example": 400000,
          "default": 0
        }
      }
    },
    "payment_processor_config": {
      "type": "object",
      "properties": {
        "payment_processor_name": {
          "type": "string",
          "enum": ["NONE", "REPAY"],
          "description": "Indicates the active payment processor whose configuration will be used for payments made from the account. If `NONE`, Canopy will not trigger payments to an external payment processor when they occur.",
          "example": "REPAY",
          "default": "NONE"
        },
        "autopay_enabled": {
          "type": "boolean",
          "description": "Indicates whether autopay is enabled for this account. Currently, autopay is triggered two days prior to a payment due date.",
          "example": true,
          "default": false
        },
        "repay_config": {
          "type": "object",
          "required": ["valid_config"],
          "properties": {
            "valid_config": {
              "type": "boolean",
              "description": "Indicates whether Canopy has a valid configuration stored for this payment processor for this account. For example, if Canopy needs an ACH token on behalf of the account to call the processor, this field will indicate that Canopy has successfully stored the necessary token.",
              "example": true
            }
          }
        }
      }
    },
    "summary": {
      "type": "object",
      "required": ["credit_limit_cents"],
      "properties": {
        "total_balance_cents": {
          "type": "integer",
          "description": "The total balance (in cents) associated with the account.",
          "example": 300000
        },
        "principal_cents": {
          "type": "integer",
          "description": "The total balance (in cents) associated with the account.",
          "example": 200000
        },
        "interest_balance_cents": {
          "type": "integer",
          "description": "The total interest balance (in cents) associated with the account.",
          "example": 60000
        },
        "am_interest_balance_cents": {
          "type": "integer",
          "description": "The total AM interest balance (in cents) associated with the account.",
          "example": 0,
          "default": 0
        },
        "deferred_interest_balance_cents": {
          "type": "integer",
          "description": "The total deferred interest balance (in cents) associated with the account.",
          "example": 40000,
          "default": 0
        },
        "am_deferred_interest_balance_cents": {
          "type": "integer",
          "description": "The total AM deferred interest balance (in cents) associated with the account.",
          "example": 0,
          "default": 0
        },
        "total_paid_to_date_cents": {
          "type": "integer",
          "description": "The total sum of payments made to date (in cents) associated with the account.",
          "example": 40000
        },
        "total_interest_paid_to_date_cents": {
          "type": "integer",
          "description": "The total sum of interest allocations for payments made to date (in cents) associated with the account.",
          "example": 10000
        },
        "credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000
        },
        "max_approved_credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000,
          "default": 0
        },
        "interest_rate_percent": {
          "type": "number",
          "description": "The percentage interest applied to the account (i.e. 6.2 means 6.2%)",
          "example": 3
        },
        "available_credit_cents": {
          "type": "integer",
          "description": "The total available credit balance (in cents) for the account.",
          "example": 100000,
          "default": 0
        },
        "open_to_buy_cents": {
          "type": "integer",
          "description": "If applicable, the total amount of available funds for continued purchase following a purchase window pattern, where payments made do not replenish amount available for purchase.",
          "example": 5000,
          "default": 0
        },
        "total_payoff_cents": {
          "type": "integer",
          "description": "The total amount needed to pay off the loan at this exact moment.",
          "example": 900000,
          "default": 0
        }
      }
    },
    "associated_entities": {
      "type": "object",
      "properties": {
        "merchant_name": {
          "type": "string",
          "description": "A merchant name associated with the account",
          "example": "Acme Corporation"
        },
        "lender_name": {
          "type": "string",
          "description": "A lender name associated with the account",
          "example": "Globex Lending Corp"
        }
      }
    }
  }
}
