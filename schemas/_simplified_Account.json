{
  "additionalProperties": false,
  "type": "object",
  "required": [
    "account_id", 
    "account_status", 
    "account_status_subtype", 
    "effective_at", 
    "created_at",
    "product",
    "total_balance",
    "credit_limit_cents",
    "rate",
    "available_credit_cents"
  ],
  "properties": {
    "account_id": {
      "type": "integer",
      "description": "This is generated by Canopy. A unique ID for the account.",
      "example": 9
    },
    "created_at": {
      "type": "string",
      "description": "The `Date-Time` which the account was created in the API.",
      "format": "date-time",
      "example": "2017-06-20T09:12:14Z"
    },
    "effective_at": {
      "type": "string",
      "description": "The `Date-Time` that this account became/becomes active.",
      "format": "date-time",
      "example": "2018-03-20T09:12:28Z"
    },
    "account_overview": {
      "type": "object",
      "properties": {
        "account_status": {
          "type": "string",
          "description": "The Status of the Account. Active upon account creation.",
          "example": "suspended"
        },
        "account_status_subtype": {
          "type": "string",
          "description": "The subtype of the Status of the Account. Null upon account creation.",
          "example": "suspended-bankruptcy"
        }
      }
    },
    "account_product": {
      "$ref": "./AccountProduct.json",
      "description": "The product associated with the account"
    },
    "external_account_ids": {
      "type": "array",
      "description": "An Array of External Account IDs. These should be used to connect accounts created in Canopy to Users in your system and any connected external systems.",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the External Party",
            "example": "Umbrella Corporation"
          },
          "id": {
            "type": "string",
            "description": "External Account ID",
            "example": "22445702-a389-431f-927d-07b8d0750787"
          }
        }
      }
    },
    "payment_info": {
      "type": "object",
      "properties": {
        "payment_due_date": {
          "type": "string",
          "description": "The `Date-Time` when the next payment is due for the account.",
          "format": "date-time",
          "example": "2013-01-13T05:25:13.813Z"
        },
        "current_due_cents": {
          "type": "number",
          "description": "The account's payment due in cents for the current cycle, not including past due or fee balances.",
          "example": 8000
        },
        "past_due_cents": {
          "type": "number",
          "description": "The account's past due balances in cents that are yet to be paid off.",
          "example": 2000
        },
        "fees_cents": {
          "type": "number",
          "description": "The unpaid fee balance in cents of the account.",
          "example": 1000
        }
      }
    },
    "summary": {
      "type": "object",
      "properties": {
        "total_balance_cents": {
          "type": "number",
          "description": "The total balance (in cents) associated with the account.",
          "example": 300000
        },
        "principal_balance": {
          "type": "number",
          "description": "The total balance (in cents) associated with the account.",
          "example": 200000
        },
        "interest_balance": {
          "type": "number",
          "description": "The total interest balance (in cents) associated with the account.",
          "example": 60000
        },
        "deferred_interest_balance": {
          "type": "number",
          "description": "The total deferred interest balance (in cents) associated with the account.",
          "example": 40000
        },
        "total_paid_to_date": {
          "type": "number",
          "description": "The total sum of payments made to date (in cents) associated with the account.",
          "example": 40000
        },
        "total_interest_paid_to_date": {
          "type": "number",
          "description": "The total sum of interest allocations for payments made to date (in cents) associated with the account.",
          "example": 10000
        },
        "credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000
        },
        "max_approved_credit_limit_cents": {
          "type": "integer",
          "description": "Total Amount (in cents) that this account can borrow.",
          "example": 400000
        },
        "interest_rate_percent": {
          "type": "number",
          "description": "The percentage interest applied to the account (i.e. 6.2 means 6.2%)",
          "example": 3
        },
        "available_credit_cents": {
          "type": "number",
          "description": "The total available credit balance (in cents) for the account.",
          "example": 100000
        },
        "late_fee_cents": {
          "type": "number",
          "description": "The fee charged for late payments on the account.",
          "example": 2900
        },
        "payment_reversal_fee_cents": {
          "type": "number",
          "description": "The fee charged for payment reversals on the account.",
          "example": 2900
        },
        "loan_end_date": {
          "type": "string",
          "format": "datetime",
          "description": "If applicable, the account's loan repayment date.",
          "example": "2013-01-13T05:25:13.813Z"
        },
        "line_item_count": {
          "type": "integer",
          "description": "Total number of line items for the account.",
          "example": 200
        },
        "merchant_name": {
          "type": "string",
          "description": "A merchant name associated with the account",
          "example": "Acme Corporation"
        },
        "lender_name": {
          "type": "string",
          "description": "A lender name associated with the account",
          "example": "Globex Lending Corp"
        }
      }
    },
    "promo_overview": {
      "promo_purchase_window_inclusive_start": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the start date for a purchase window for the account",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "promo_purchase_window_exclusive_end": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the end date for a purchase window for the account",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "promo_inclusive_start": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the start date for a promotional period for the account.",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "promo_exclusive_end": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the start date for a promotional period for the account.",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "promo_impl_interest_rate": {
        "type": "number",
        "description": "The percentage interest applied to the account during the promotional period (i.e. 6.2%)",
        "example": 6.2
      }
    },
    "post_promo_overview": {
      "post_promo_inclusive_start": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the start date for a promotional period for the account.",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "post_promo_exclusive_end": {
        "type": "string",
        "format": "datetime",
        "description": "If applicable, the start date for a promotional period for the account.",
        "example": "2013-01-13T05:25:13.813Z"
      },
      "post_promo_impl_interest_rate": {
        "type": "number",
        "description": "The percentage interest applied to the account during the post-promotional period (i.e. 6.2%)",
        "example": 6.2
      },
      "post_promo_impl_am_len": {
        "type": "integer",
        "description": "If applicable, post-promotional amortization length in cycles.",
        "example": 48
      }
    },
    "line_items": {
      "$ref": "./_simplified_LineItems.json"
    },
    "amortization_schedule": {
      "type": "array",
      "description": "Amortization schedule",
      "items": {
        "type": "object",
        "properties": {
          "scheduled_payment_date": {
            "type": "string",
            "format": "date-time",
            "description": "The date of the scheduled payment",
            "example": "2018-07-20T09:10:14Z"
          },
          "amount_due_cents": {
            "type": "number",
            "description": "The amount in cents of the scheduled payment due",
            "example": 18325
          },
          "amount_paid_cents": {
            "type": "number",
            "description": "The amount in cents that was actually paid for the billing cycle",
            "example": 18325
          },
          "interest_allocation": {
            "type": "number",
            "description": "The amount in cents allocated to interest from this payment",
            "example": 2415
          },
          "deferred_interest_allocation": {
            "type": "number",
            "description": "The amount in cents allocated to deferred interest from this payment",
            "example": 400
          },
          "principal_allocation": {
            "type": "number",
            "description": "The amount in cents allocated to principal from this payment",
            "example": 15911
          },
          "end_balance": {
            "type": "number",
            "description": "The ending balance on the loan after this payment",
            "example": 136691
          }
        }
      }
    },
    "statements_list": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "account_id": {
            "type": "integer",
            "description": "The Canopy-generated ID for the account",
            "example": 8
          },
          "effective_as_of_date": {
            "type": "string",
            "format": "date-time",
            "description": "The `Date-Time` you would like the system to return the data as of. IE tell me what the account information was as if I had asked on `2020-10-20 00:00:00 EST`. If empty it defaults to current time.",
            "example": "2018-07-20T09:10:14Z"
          },
          "statements_list": {
            "type": "array",
            "description": "An array of statements included in the billing cycle.",
            "items": {
              "type": "object",
              "properties": {
                "statement_id": {
                  "type": "integer",
                  "description": "A Canopy-generated ID for the statement",
                  "example": 5
                },
                "available_credit_balance": {
                  "type": "number",
                  "description": "The total available credit balance (in cents) for the account.",
                  "example": 600000
                },
                "total_balance": {
                  "type": "number",
                  "description": "The total balance (in cents) associated with the account.",
                  "example": 400000
                },
                "min_pay_due_date": {
                  "type": "string",
                  "format": "date-time",
                  "description": "The `Date-Time` at which the minimum payment is due."
                },
                "min_pay_amount_cents": {
                  "type": "number",
                  "description": "The minimum amount (in cents) due for this statement.",
                  "example": 2000
                },
                "billing_cycle_start_date": {
                  "type": "string",
                  "format": "date-time",
                  "description": "The inclusive starting `Date-Time` that defines which transations are part of this statement."
                },
                "billing_cycle_end_date": {
                  "type": "string",
                  "format": "date-time",
                  "description": "The inclusive ending `Date-Time` that defines which transations are part of this statement."
                }
              }
            }
          }
        }
      }
    }
  }
}