{
  "description": "Allocate a payment across all installment loans on an account",
  "content": {
    "application/json": {
      "schema": {
        "type": "object",
        "properties": {
          "payment_allocation_method": {
            "type": "string",
            "description": "Method by which payments will be allocated across customer's loans.",
            "enum": ["higher_interest_balance"],
            "example": "higher_interest_balance"
          },
          "amount_cents": {
            "type": "integer",
            "description": "The Integer Amount of the Payment in Cents",
            "example": "200"
          },
          "effective_at": {
            "type": "string",
            "description": "The `Date-Time` that the payment should be recorded to the account. Although the payment is being added to Canopy today, it can actually be effective as of 10 days ago.",
            "format": "date-time",
            "example": "2020-07-20T09:11:28+00:00"
          },
          "reference_id": {
            "type": "string",
            "description": "A unique ID generated in your system to associate with the Payment.",
            "example": "e39c6b0d-5793-49c5-bee7-a2dbf8808f3a"
          },
          "external_ids": {
            "type": "array",
            "maxItems": 10,
            "description": "An array of static references to ID fields in a third party system.",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the External Party",
                  "example": "Globex Card Processing"
                },
                "id": {
                  "type": "string",
                  "description": "External Account ID",
                  "example": "22445702-a389-431f-927d-07b8d0750787"
                }
              }
            }
          }
        }
      }
    }
  }
}
